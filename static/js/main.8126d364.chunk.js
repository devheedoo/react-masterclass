(this["webpackJsonpreact-masterclass"]=this["webpackJsonpreact-masterclass"]||[]).push([[0],{36:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(12),a=n.n(c),s=n(7),i=n(17),l=n(22),u=n(4),d=n(5),b=n.n(d),j=n(8),f=n(3),O=["TODO","DOING","DONE"],h=Object(s.b)({key:"status",default:O[0]}),p=Object(s.b)({key:"statuses",default:O}),g=Object(s.b)({key:"todos",default:[]}),m=Object(s.c)({key:"todosSelector",get:function(e){var t=e.get,n=t(g),o=t(h);return n.filter((function(e){return e.status===o}))}}),v=n(6),x=n(16),y=n(2);var k=function(){var e,t,n=Object(s.d)(p),o=Object(f.a)(n,2),r=o[0],c=o[1],a=Object(x.a)(),i=a.register,l=a.handleSubmit,d=a.setValue,b=a.formState;return Object(y.jsxs)("form",{onSubmit:l((function(e){var t=e.status;console.log("Add:",t),c([].concat(Object(v.a)(r),[t])),d("status","")})),children:[Object(y.jsx)("input",Object(u.a)(Object(u.a)({},i("status",{validate:function(e){return!r.includes(e)||"ERROR: ".concat(e," already exists.")}})),{},{type:"text",placeholder:"Add a status"})),Object(y.jsx)("button",{children:"Add"}),Object(y.jsx)("span",{children:null===(e=b.errors)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.message})]})};var S=function(){var e=Object(s.f)(g),t=Object(s.e)(h),n=Object(x.a)(),o=n.register,r=n.handleSubmit,c=n.setValue;return Object(y.jsxs)("form",{onSubmit:r((function(n){var o=n.todo;console.log("Add:",o);var r={id:(new Date).getTime(),text:o,status:t};e((function(e){return[r].concat(Object(v.a)(e))})),c("todo","")})),children:[Object(y.jsx)("input",Object(u.a)(Object(u.a)({},o("todo")),{},{type:"text",placeholder:"Add a todo"})),Object(y.jsx)("button",{children:"Add"})]})};var w=function(){var e=Object(s.e)(m),t=Object(s.e)(p);return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(n){n.preventDefault(),window.localStorage.setItem("todos",JSON.stringify(e)),window.localStorage.setItem("statuses",JSON.stringify(t))},children:"Save todos on LocalStorage"}),Object(y.jsx)("button",{onClick:function(e){e.preventDefault(),window.localStorage.clear()},children:"Clear LocalStorage"})]})};var q=function(e){var t=e.id,n=e.text,o=e.status,r=Object(s.f)(g),c=Object(s.e)(p),a=function(e){var o=e.currentTarget.name;r((function(e){var r=e.findIndex((function(e){return e.id===t})),c={id:t,text:n,status:o};return[].concat(Object(v.a)(e.slice(0,r)),[c],Object(v.a)(e.slice(r+1)))}))};return Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{children:n}),c.map((function(e){return Object(y.jsx)("button",{name:e,onClick:a,disabled:e===o,children:e})}))]})};var C,I=function(){var e=Object(s.e)(m),t=Object(s.f)(g),n=Object(s.d)(p),r=Object(f.a)(n,2),c=r[0],a=r[1],i=Object(s.f)(h),l=function(){var e=Object(j.a)(b.a.mark((function e(){var n,o,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse(null!==(n=window.localStorage.getItem("todos"))&&void 0!==n?n:"[]"),c=JSON.parse(null!==(o=window.localStorage.getItem("statuses"))&&void 0!==o?o:"[]"),console.log("savedTodos:",r),console.log("statuses:",c),t(r),c.length>0?a(c):a(O);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){l()}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"TODOLIST"}),Object(y.jsx)(w,{}),Object(y.jsx)(k,{}),Object(y.jsx)("select",{onInput:function(e){var t=e.currentTarget.value;i(t)},children:c.map((function(e){return Object(y.jsx)("option",{value:e,children:e})}))}),Object(y.jsx)(S,{}),Object(y.jsx)("div",{style:{marginTop:10},children:Object(y.jsx)("ul",{children:e.map((function(e){return Object(y.jsx)(q,Object(u.a)({},e),e.id)}))})})]})},T=Object(i.b)(C||(C=Object(l.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Ubuntu&display=swap');\n  html, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed, \n  figure, figcaption, footer, header, hgroup, \n  menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article, aside, details, figcaption, figure, \n  footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n    font-family: 'Ubuntu', sans-serif;\n    background-color: ",";\n    color: ",";\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  a {\n    text-decoration: none;\n    color: inherit\n  }\n  * {\n    box-sizing: border-box;\n  }\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.textColor}));var D=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(T,{}),Object(y.jsx)(I,{})]})};a.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(s.a,{children:Object(y.jsx)(i.a,{theme:{backgroundColor:"#cd6133",textColor:"#f7f1e3",accentColor:"#ff793f"},children:Object(y.jsx)(D,{})})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.8126d364.chunk.js.map