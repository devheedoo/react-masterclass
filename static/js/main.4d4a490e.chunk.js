(this["webpackJsonpreact-masterclass"]=this["webpackJsonpreact-masterclass"]||[]).push([[0],{36:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),c=n(12),a=n.n(c),s=n(7),i=n(17),l=n(22),d=n(4),u=n(5),b=n.n(u),j=n(8),f=n(2),O=["TODO","DOING","DONE"],h=Object(s.b)({key:"status",default:O[0]}),p=Object(s.b)({key:"statuses",default:O}),g=Object(s.b)({key:"todos",default:[]}),m=Object(s.c)({key:"todosSelector",get:function(t){var e=t.get,n=e(g),o=e(h);return n.filter((function(t){return t.status===o}))}}),v=n(6),x=n(16),y=n(3);var k=function(){var t,e,n=Object(s.d)(p),o=Object(f.a)(n,2),r=o[0],c=o[1],a=Object(x.a)(),i=a.register,l=a.handleSubmit,u=a.setValue,b=a.formState;return Object(y.jsxs)("form",{onSubmit:l((function(t){var e=t.status;console.log("Add:",e);var n=[].concat(Object(v.a)(r),[e]);window.localStorage.setItem("statuses",JSON.stringify(n)),c(n),u("status","")})),children:[Object(y.jsx)("input",Object(d.a)(Object(d.a)({},i("status",{validate:function(t){return!r.includes(t)||"ERROR: ".concat(t," already exists.")}})),{},{type:"text",placeholder:"Add a status"})),Object(y.jsx)("button",{children:"Add"}),Object(y.jsx)("span",{children:null===(t=b.errors)||void 0===t||null===(e=t.status)||void 0===e?void 0:e.message})]})};var w=function(){var t=Object(s.f)(g),e=Object(s.e)(h),n=Object(x.a)(),o=n.register,r=n.handleSubmit,c=n.setValue;return Object(y.jsxs)("form",{onSubmit:r((function(n){var o=n.todo;console.log("Add:",o);var r={id:(new Date).getTime(),text:o,status:e};t((function(t){var e=[r].concat(Object(v.a)(t));return window.localStorage.setItem("todos",JSON.stringify(e)),e})),c("todo","")})),children:[Object(y.jsx)("input",Object(d.a)(Object(d.a)({},o("todo")),{},{type:"text",placeholder:"Add a todo"})),Object(y.jsx)("button",{children:"Add"})]})};var S=function(){var t=Object(s.f)(g),e=Object(s.f)(p),n=Object(s.f)(h);return Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:function(o){o.preventDefault(),window.localStorage.clear(),t([]),e(O),n(O[0])},children:"Clear all with LocalStorage"})})};var I=function(t){var e=t.id,n=t.text,o=t.status,r=Object(s.f)(g),c=Object(s.e)(p),a=function(t){var o=t.currentTarget.name;r((function(t){var r=t.findIndex((function(t){return t.id===e})),c={id:e,text:n,status:o},a=[].concat(Object(v.a)(t.slice(0,r)),[c],Object(v.a)(t.slice(r+1)));return window.localStorage.setItem("todos",JSON.stringify(a)),a}))};return Object(y.jsxs)("li",{children:[Object(y.jsx)("span",{children:n}),c.map((function(t){return Object(y.jsx)("button",{name:t,onClick:a,disabled:t===o,children:t})}))]})};var q,T=function(){var t=Object(s.e)(m),e=Object(s.f)(g),n=Object(s.d)(p),r=Object(f.a)(n,2),c=r[0],a=r[1],i=Object(s.d)(h),l=Object(f.a)(i,2),u=l[0],v=l[1],x=function(){var t=Object(j.a)(b.a.mark((function t(){var n,o,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(null!==(n=window.localStorage.getItem("todos"))&&void 0!==n?n:"[]"),c=JSON.parse(null!==(o=window.localStorage.getItem("statuses"))&&void 0!==o?o:"[]"),console.log("savedTodos:",r),console.log("statuses:",c),e(r),c.length>0?a(c):a(O);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){x()}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"TODOLIST"}),Object(y.jsx)(S,{}),Object(y.jsx)(k,{}),Object(y.jsx)("select",{onInput:function(t){var e=t.currentTarget.value;v(e)},value:u,children:c.map((function(t){return Object(y.jsx)("option",{value:t,children:t},t)}))}),Object(y.jsx)(w,{}),Object(y.jsx)("div",{style:{marginTop:10},children:Object(y.jsx)("ul",{children:t.map((function(t){return Object(y.jsx)(I,Object(d.a)({},t),t.id)}))})})]})},C=Object(i.b)(q||(q=Object(l.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Ubuntu&display=swap');\n  html, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed, \n  figure, figcaption, footer, header, hgroup, \n  menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article, aside, details, figcaption, figure, \n  footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n    font-family: 'Ubuntu', sans-serif;\n    background-color: ",";\n    color: ",";\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  a {\n    text-decoration: none;\n    color: inherit\n  }\n  * {\n    box-sizing: border-box;\n  }\n"])),(function(t){return t.theme.backgroundColor}),(function(t){return t.theme.textColor}));var J=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C,{}),Object(y.jsx)(T,{})]})};a.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(s.a,{children:Object(y.jsx)(i.a,{theme:{backgroundColor:"#cd6133",textColor:"#f7f1e3",accentColor:"#ff793f"},children:Object(y.jsx)(J,{})})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.4d4a490e.chunk.js.map